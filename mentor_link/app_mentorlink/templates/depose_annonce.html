{% extends "home.html" %}

{% block title %}Mentorlink - Déposer une annonce{% endblock %}

{% block content %}

    <h2>Déposez votre annonce :</h2>

    <div class="form-group">
        <label>Quel est le métier concerné par l'annonce ?</label>
        <input type="text" id="metier-input" name="metier" maxlength="100" />
        <small id="metier-counter">0/100</small>
    </div>

    <div class="form-group">
        <label>Description de l'annonce</label>
        <textarea id="description-input" name="description" maxlength="4000" oninput="autoResizeTextarea(this)"></textarea>
        <small id="description-counter">0/4000</small>
    </div>

    <div class="form-group">
        <label>Prix de l'heure (en €)</label>
        <input type="text" id="prix-input" name="metier" maxlength="5" />
        <small id="prix-counter">0/5</small>
    </div>

    <div class="form-group">
        <label>adresse</label>
        <textarea id="adresse-input" name="description" maxlength="200" oninput="autoResizeTextarea(this)"></textarea>
        <small id="adresse-counter">0/200</small>
    </div>

    <div class="form-group">
        <label>possibilité de faire la rencontre en visio</label>
        <input type="radio" name="visio" value="true" checked> oui
        <input type="radio" name="visio" value="false"> non
    </div>

    <div class="form-actions">
        <button>Publier l'annonce</button>
    </div>

    <script>

      const metierInput = document.getElementById('metier-input');
      const metierCounter = document.getElementById('metier-counter');
      const descriptionInput = document.getElementById('description-input');
      const descriptionCounter = document.getElementById('description-counter');
      const prixInput = document.getElementById('prix-input');
      const prixCounter = document.getElementById('prix-counter');
      const adresseInput = document.getElementById('adresse-input');
      const adresseCounter = document.getElementById('adresse-counter');

      // permet de calculer le nombre de caractères restant

      metierInput.addEventListener('input', () => {
        const currentLength = metierInput.value.length;
        metierCounter.textContent = `${currentLength}/100`;
      });


      descriptionInput.addEventListener('input', () => {
        const currentLength = descriptionInput.value.length;
        descriptionCounter.textContent = `${currentLength}/4000`;
      });


      prixInput.addEventListener('input', () => {
        const currentLength = prixInput.value.length;
        prixCounter.textContent = `${currentLength}/5`;
      });


      adresseInput.addEventListener('input', () => {
        const currentLength = adresseInput.value.length;
        adresseCounter.textContent = `${currentLength}/200`;
      });

      // ajuste les rubriques en fonction de la taille du texte
      function autoResizeTextarea(textarea) {
        textarea.style.height = 'auto';  // Remet la hauteur à auto avant de l'ajuster
        textarea.style.height = `${textarea.scrollHeight}px`;  // Ajuste la hauteur en fonction du contenu
      }
    </script>

{% endblock %}
